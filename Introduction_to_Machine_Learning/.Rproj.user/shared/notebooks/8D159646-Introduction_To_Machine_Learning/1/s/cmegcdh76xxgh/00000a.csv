"0","# The titanic dataset is already loaded into your workspace"
"0",""
"0","# Set random seed. Don't remove this line"
"0","set.seed(1)"
"0",""
"0","# Have a look at the structure of titanic"
"0","titanic <- read_csv(""data/titanic.csv"") %>%"
"0","  mutate(Survived = factor(Survived, levels = c(1, 0)), "
"0","         Pclass = factor(Pclass), "
"0","         Sex = factor(Sex))"
"2","Parsed with column specification:
cols(
  Survived = col_integer(),
  Pclass = col_integer(),
  Sex = col_character(),
  Age = col_double()
)
"
"0","str(titanic)"
"1","Classes"
"1"," "
"1","‘tbl_df’, ‘tbl’"
"1"," "
"1","and "
"1","'data.frame':	"
"1",""
"1","714"
"1",""
"1"," obs. of  "
"1",""
"1","4"
"1",""
"1"," variable"
"1",""
"1","s"
"1",""
"1",":"
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Survived"
"1",""
"1",":"
"1"," Factor w/ 2 levels ""1"",""0"": "
"1",""
"1","2 1 1 1 2 2 2 1 1 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Pclass  "
"1",""
"1",":"
"1"," Factor w/ 3 levels ""1"",""2"",""3"": "
"1",""
"1","3 1 3 1 3 1 3 3 2 3"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Sex     "
"1",""
"1",":"
"1"," Factor w/ 2 levels ""female"",""male"": "
"1",""
"1","2 1 1 1 2 2 2 1 1 1"
"1",""
"1"," ..."
"1",""
"1","
"
"1"," "
"1",""
"1","$ "
"1",""
"1","Age     "
"1",""
"1",":"
"1"," num  "
"1",""
"1","22 38 26 35 35 54 2 27 14 4"
"1",""
"1"," ..."
"1",""
"1","
"
"0","# A decision tree classification model is built on the data"
"0","tree <- rpart(Survived ~ ., data = titanic, method = ""class"")"
"0",""
"0","# Use the predict() method to make predictions, assign to pred"
"0","pred <- predict(tree, titanic, type = ""class"")"
"0","#head(pred)"
"0",""
"0","# Use the table() method to make the confusion matrix"
"0","conf <- table(titanic$Survived, pred)"
"0","conf"
"1","   pred
"
"1","   "
"1","   1"
"1","   0"
"1","
  1"
"1"," 212"
"1","  78"
"1","
  0"
"1","  53"
"1"," 371"
"1","
"
"0","# do a manual calculation"
"0",""
"0","# The confusion matrix is available in your workspace as conf"
"0",""
"0","# Assign TP, FN, FP and TN using conf"
"0","TP <- conf[1, 1] # this will be 212"
"0","FN <- conf[1, 2] # this will be 78"
"0","FP <- conf[2, 1] # fill in"
"0","TN <- conf[2, 2] # fill in"
"0",""
"0","# Calculate and print the accuracy: acc"
"0","acc <- (TP + TN)/(TP + FP + FN + TN)"
"0","acc"
"1","[1]"
"1"," 0.8165266"
"1","
"
"0","# Calculate and print out the precision: prec"
"0","prec <-  TP/(TP + FP)"
"0","prec"
"1","[1]"
"1"," 0.8"
"1","
"
"0","# Calculate and print out the recall: rec"
"0","rec <- TP/(TP + FN)"
"0","rec"
"1","[1]"
"1"," 0.7310345"
"1","
"
